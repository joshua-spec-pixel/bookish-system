<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="morse code style.css">
  <title>Morse Code Translator</title>
  <link rel="stylesheet" href="morse-code-translator.css">
</head>
<body>
  <div class="container">
    <h1>Morse Code Translator</h1>
    <div class="input-group">
      <label for="mode">Choose Mode:</label>
      <select id="mode">
        <option value="encrypt">Encrypt (Text → Morse)</option>
        <option value="decrypt">Decrypt (Morse → Text)</option>
      </select>
    </div>
    <div class="input-group">
      <label id="input-label" for="input">Enter your text:</label>
      <textarea id="input" rows="3" placeholder="Type your message here..."></textarea>
    </div>
    <button onclick="processMorse()">Process</button>
    <div id="result" class="result"></div>
  </div>
  <script>
    const morse_code_dict = {
      'A': '.-', 'B': '-...', 'C': '-.-.', 'D': '-..', 'E': '.', 'F': '..-.',
      'G': '--.', 'H': '....', 'I': '..', 'J': '.---', 'K': '-.-', 'L': '.-..',
      'M': '--', 'N': '-.', 'O': '---', 'P': '.--.', 'Q': '--.-', 'R': '.-.',
      'S': '...', 'T': '-', 'U': '..-', 'V': '...-', 'W': '.--', 'X': '-..-',
      'Y': '-.--', 'Z': '--..',

      ',': '--..--', '?': '..--..',

      '1': '.----', '2': '..---', '3': '...--', '4': '....-', '5': '.....',
      '6': '-....', '7': '--...', '8': '---..', '9': '----.', '0': '-----',
      '-': '-....-', '/': ' ', ' ': '/'
    };

    function encrypt(message)  {
      let cipher = [];
      for (let letter of message) {
        if (letter === '\n') {
          cipher.push('/');
          continue;
        }

        let upperLetter = letter.toUpperCase();

        if (morse_code_dict[upperLetter] !== undefined) {
          cipher.push(morse_code_dict[upperLetter]);
        }
        }

        return cipher.join(' ');
      }

    function decrypt(message){
      let reverse_dict = Object.fromEntries(
        Object.entries(morse_code_dict).map(([k, v]) => [v, k])
        );

      return message
      .trim()
      .split(' ')
      .map(code => {
        if (code === '/') return ' ';
        return reverse_dict[code] || '';
      })
      .join('');
    }

    function processMorse() {
      const mode = document.getElementById('mode').value;
      const input = document.getElementById('input').value.trim();
      const resultDiv = document.getElementById('result');
      let output = "";
      if (mode === "encrypt") {
        output = encrypt(input);
        resultDiv.innerHTML = `<strong>Morse Code:</strong> <span style="font-family:monospace">${output}</span>`;
      } else {
        output = decrypt(input);
        resultDiv.innerHTML = `<strong>Decrypted Text:</strong> <span style="font-family:monospace">${output}</span>`;
      }
    }

    // Update label when mode changes
    document.getElementById('mode').addEventListener('change', function() {
      document.getElementById('input-label').textContent =
        this.value === "encrypt" ? "Enter your text:" : "Enter Morse code (use spaces between letters and / between words):";
      document.getElementById('input').value = "";
      document.getElementById('result').innerHTML = "";
    });
  </script>
</body>
</html>
